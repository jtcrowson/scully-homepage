<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 1.0.0-beta.0">
  <meta charset="utf-8">
  <title>ScullyHomepage</title>
  <base href="/scully-multi-markdown-page-builder-plugin-homepage/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <!-- Primary Meta Tags -->
  <title>Scully Multi Markdown Page Builder Plugin</title>
  <meta name="title" content="Scully Multi Markdown Page Builder Plugin">
  <meta name="description" content="A Scully Plugin for creating a static page from multiple markdown files.">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Scully Multi Markdown Page Builder Plugin">
  <meta property="og:description" content="A Scully Plugin for creating a static page from multiple markdown files.">
  <meta property="og:image" content="https://metatags.io/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="Scully Multi Markdown Page Builder Plugin">
  <meta property="twitter:description" content="A Scully Plugin for creating a static page from multiple markdown files.">
  <meta property="twitter:image" content="https://metatags.io/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png">
<link rel="stylesheet" href="styles.a24b26682d7214245452.css"><style></style><script charset="utf-8" src="5-es2015.423c6b72f0fa2cdfb3b1.js"></script><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><script>window['ScullyIO']='generated';</script></head>
<body scully-version="1.0.0-beta.0">
  <app-root _nghost-glj-c6="" ng-version="9.1.12"><a _ngcontent-glj-c6="" class="navigation-link" href="">Demo Homepage</a><a _ngcontent-glj-c6="" class="navigation-link" href="docs/api">API Docs</a><a _ngcontent-glj-c6="" class="navigation-link" href="docs/license">License</a><!----><a _ngcontent-glj-c6="" href="https://github.com/jtcrowson/scully-multi-markdown-page-builder-plugin-homepage" class="navigation-link">Source Code</a><router-outlet _ngcontent-glj-c6=""></router-outlet><app-docs><!--scullyContent-begin--><div id="headerContainer"><div id="headerItem"><h1 id="scully-multi-markdown-page-builder-plugin">Scully Multi Markdown Page Builder Plugin</h1>
<p>A <a href="https://scully.io/docs/plugins/">Scully Plugin</a> for creating a static page from multiple markdown files.</p>
<p>This page was created from eight markdown files and some CSS!  <strong>No HTML.</strong> ðŸ™Œ</p>
</div></div><div id="gridContainer"><div id="element1" class="grid-item"><p><img src="assets/scully-logo.png" alt=""></p>
<h3 id="one-markdown-file">One Markdown File</h3>
<p>The content of this grid element is sourced from <a href="markdownFile1.md">markdownFile1.md</a>.</p>
</div><div id="element2" class="grid-item"><p><img src="assets/angular-logo.png" alt=""></p>
<h3 id="another-markdown-file">Another Markdown File</h3>
<p>The content of this grid element is sourced from <a href="markdownFile2.md">markdownFile2.md</a>.</p>
</div><div id="element3" class="grid-item"><p><img src="assets/markdown-logo.png" alt=""></p>
<h3 id="a-third-markdown-file">A Third Markdown File</h3>
<p>The content of this grid element is sourced from <a href="markdownFile3.md">markdownFile3.md</a>.</p>
</div></div><div id="installationContainer"><div id="installationItem"><h2 id="installation">Installation</h2>
<pre><code class="language-bash">npm install --save-dev scully-multi-markdown-page-builder-plugin</code></pre>
<pre><code class="language-typescript"><span class="hljs-keyword">import</span> {
    MultiMarkdownPageBuilderPlugin,
    MultiMarkdownPageBuilderPluginConfig
} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;scully-multi-markdown-page-builder-plugin&#x27;</span>;

<span class="hljs-keyword">const</span> pluginConfig: MultiMarkdownPageBuilderPluginConfig = {
    sectionBuilders: [
        <span class="hljs-comment">// add multiple markdown section builders (MarkdownSectionBuilder[])...</span>
    ],
    title: <span class="hljs-string">&#x27;Home&#x27;</span> <span class="hljs-comment">// Optional title to be made available through the ScullyRouteService</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config: ScullyConfig = {
  <span class="hljs-comment">// ...</span>
  routes: {
    <span class="hljs-string">&#x27;/homepage&#x27;</span>: {
      <span class="hljs-keyword">type</span>: MultiMarkdownPageBuilderPlugin,
      ...pluginConfig
    }
  }
};</code></pre>
<pre><code class="language-HTML"><span class="hljs-comment">&lt;!-- At route defined in ScullyConfig --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">scully-content</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">scully-content</span>&gt;</span></code></pre>
</div></div><div><div><h2 id="overview">Overview</h2>
<p>The plugin works by accepting multiple markdown section builders (<code>MarkdownSectionBuilder[]</code>) and displaying each section in order, stacked on a single page.</p>
<p><img src="assets/markdown-section-builder-diagram.png" alt="Overview Diagram">  </p>
<p>A markdown section builder is defined as follows:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">interface</span> MarkdownSectionBuilder {
  markdownFileSources: <span class="hljs-built_in">string</span>[];
  sectionBuilder: <span class="hljs-function">(<span class="hljs-params">markdownHtmls: <span class="hljs-built_in">string</span>[]</span>) =&gt;</span> <span class="hljs-built_in">string</span>;
  extras: <span class="hljs-built_in">any</span>;
}</code></pre>
<p>Each <code>MarkdownSectionBuilder</code> accepts multiple markdown file paths (<code>markdownFileSources</code>), each of which are compiled into HTML by the plugin, and then passed as an array of HTML strings to the provided <code>sectionBuilder</code> function.</p>
<p>The <code>sectionBuilder</code> function is responsible for combining the HTML strings (<code>markdownHtmls</code>) into a single HTML string, performing any additional post processing on the HTML, then returning it.  The returned string is then combined with the results of any other <code>MarkdownSectionBuilder</code> to create the final page.  The final page HTML is inserted into the <code>scully-content</code> tag provided by the Scully Library.</p>
<p>The <code>extras</code> property is available for any additional properties that need to be made available to the <code>sectionBuilder</code> function.</p>
<p><img src="assets/plugin-diagram.png" alt="Markdown Section Builder Dataflow Diagram"> </p>
<h3 id="example">Example</h3>
<p>Here is an example <code>MarkdownSectionBuilder</code> that highlights the word &quot;hightlight&quot; in a converted markdown file by wrapping the word in a <code>mark</code> tag.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> highlightBuilderExample: MarkdownSectionBuilder = {
  sectionBuilder: <span class="hljs-function">(<span class="hljs-params">markdownHtmls: <span class="hljs-built_in">string</span>[]</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> markdownHtml = markdownHtmls[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">return</span> markdownHtml.replace(<span class="hljs-regexp">/highlight/gi</span>, <span class="hljs-function"><span class="hljs-params">hightlight</span> =&gt;</span> <span class="hljs-string">`&lt;mark&gt;<span class="hljs-subst">${hightlight}</span>&lt;/mark&gt;`</span>);
  },
  markdownFileSources: [<span class="hljs-string">&#x27;./homepage/highlightExample.md&#x27;</span>],
  extras: {}
}</code></pre>
</div></div><p>Here is the result of using the above <code>MarkdownSectionBuilder</code>:</p>
<blockquote>
<p>Only <mark>highlight</mark> certain words.</p>
</blockquote>
<div><div><h3 id="creator-functions">Creator Functions</h3>
<p>The library ships with two creator functions that return common <code>MarkdownSectionBuilder</code> configurations, without having to define your own <code>sectionBuilder</code>.  The two creator functions are <code>createSingleMarkdownSection</code> and <code>createMultipleMarkdownSection</code>.  The former is for creating a single section of the page using a single markdown file, and the latter is for creating a single section of the page using multiple markdown files.  The latter is useful for creating a grid appearance, with content from multiple markdown files side-by-side.  Both creator functions accept css property names to enable styling customization.  </p>
<p><strong>This page was built almost exclusively with these two creator functions.</strong></p>
<p>See more in the <a href="docs/api">API Documentation</a>.</p>
</div></div><div><div><h2 id="usage">Usage</h2>
<p>The <code>MultiMarkdownPageBuilderPlugin</code> consists of a route plugin and a render plugin.</p>
<h3 id="route-plugin">Route Plugin</h3>
<p>The route plugin takes a configuration that conforms to the <code>MultiMarkdownPageBuilderPluginConfig</code> interface.  The configuration takes in an array of <code>MarkdownSectionBuilder</code>s, with each element responsible for creating a separate portion of the overall page.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> multiMarkdownPageBuilderPluginConfig: MultiMarkdownPageBuilderPluginConfig = {
  sectionBuilders: [
    createSingleMarkdownSection(
        <span class="hljs-string">&#x27;./homepage/header.md&#x27;</span>, 
        { 
            containerDivId: <span class="hljs-string">&#x27;headerContainer&#x27;</span>, 
            elementDivId: <span class="hljs-string">&#x27;headerItem&#x27;</span> 
        }
    ),
    createMultipleMarkdownSection(
        [
            <span class="hljs-string">&#x27;./homepage/markdownFile1.md&#x27;</span>, 
            <span class="hljs-string">&#x27;./homepage/markdownFile2.md&#x27;</span>, 
            <span class="hljs-string">&#x27;./homepage/markdownFile3.md&#x27;</span>
        ], 
        { 
            containerDivId: <span class="hljs-string">&#x27;gridContainer&#x27;</span>, 
            elementsDivClass: <span class="hljs-string">&#x27;grid-item&#x27;</span> 
        }
    )
  ]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config: ScullyConfig = {
  <span class="hljs-comment">// ...</span>
  routes: {
    <span class="hljs-string">&#x27;/docs/:slug&#x27;</span>: {
      <span class="hljs-keyword">type</span>: <span class="hljs-string">&#x27;contentFolder&#x27;</span>,
      slug: {
        folder: <span class="hljs-string">&quot;./docs&quot;</span>
      },
      postRenderers: [DisableAngular]
    },
    <span class="hljs-string">&#x27;&#x27;</span>: {
      <span class="hljs-keyword">type</span>: MultiMarkdownPageBuilderPlugin,
      multiMarkdownPageBuilderPluginConfig
    }
  }
};</code></pre>
</div></div><div><div><h3 id="render-plugin">Render Plugin</h3>
<p>This plugin takes the section builders from the <code>MultiMarkdownPageBuilderPluginConfig</code> and converts the markdown files provided in each <code>markdownFileSources</code> array to a pre-rendered HTML array. The HTML array is then passed to each section builder&#39;s <code>sectionBuilder</code> function, which is responsible for adding any custom HTML.</p>
<p>This plugin finds the <code>&lt;scully-content&gt;</code> tag, and it injects the HTML as its previous sibling(s).</p>
</div></div><!--scullyContent-end--><script>try {window['scullyContent'] = {cssId:"",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script><script>try {window['scullyContent'] = {cssId:"",html:document.body.innerHTML.split('